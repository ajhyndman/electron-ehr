<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Fantasia</title>
    <style>
      body {
        box-sizing: border-box;
        height: 100vh;
        margin: 0;
        overflow: hidden;
      }

      #app {
        height: 100%;
      }
    </style>
	</head>
	<body>
		<div id="app"></div>
	</body>

	<script>
		// require node modules before loader.js comes in
		var path = require('path');
	</script>

	<script src="./node_modules/monaco-editor/min/vs/loader.js"></script>

  <script>
    function uriFromPath(_path) {
      var pathName = path.resolve(_path).replace(/\\/g, '/');
      if (pathName.length > 0 && pathName.charAt(0) !== '/') {
        pathName = '/' + pathName;
      }
      return encodeURI('file://' + pathName);
    }

    window.require.config({
      baseUrl: uriFromPath(window.path.join(__dirname, './node_modules/monaco-editor/min'))
    });

    // workaround monaco-css not understanding the environment
    window.self.module = undefined;

    // workaround monaco-typescript not understanding the environment
    window.self.process.browser = true;
  </script>

  <script src="./build/app.js"></script>
</html>